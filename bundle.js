var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function l(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t){return null==t?"":t}function a(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function i(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function h(){return m(" ")}function d(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function p(t,e){e=""+e,t.data!==e&&(t.data=e)}function $(t,e){(null!=e||t.value)&&(t.value=e)}let v;function T(t){v=t}function x(t){(function(){if(!v)throw new Error("Function called outside component initialization");return v})().$$.on_mount.push(t)}function b(){const t=v;return(e,n)=>{const r=t.$$.callbacks[e];if(r){const l=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach(e=>{e.call(t,l)})}}}const y=[],w=[],k=[],_=[],j=Promise.resolve();let C=!1;function q(t){k.push(t)}function E(){const t=new Set;do{for(;y.length;){const t=y.shift();T(t),I(t.$$)}for(;w.length;)w.pop()();for(let e=0;e<k.length;e+=1){const n=k[e];t.has(n)||(n(),t.add(n))}k.length=0}while(y.length);for(;_.length;)_.pop()();C=!1}function I(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(q))}const L=new Set;let A;function M(t,e){t&&t.i&&(L.delete(t),t.i(e))}function O(t,e,n,r){if(t&&t.o){if(L.has(t))return;L.add(t),A.c.push(()=>{L.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function N(t,n,o){const{fragment:c,on_mount:a,on_destroy:s,after_update:u}=t.$$;c.m(n,o),q(()=>{const n=a.map(e).filter(l);s?s.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(q)}function R(t,e){t.$$.fragment&&(r(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function S(t,e){t.$$.dirty||(y.push(t),C||(C=!0,j.then(E)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function D(e,l,o,c,a,s){const u=v;T(e);const i=l.props||{},f=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:null};let m=!1;var h;f.ctx=o?o(e,i,(t,n,r=n)=>(f.ctx&&a(f.ctx[t],f.ctx[t]=r)&&(f.bound[t]&&f.bound[t](r),m&&S(e,t)),n)):i,f.update(),m=!0,r(f.before_update),f.fragment=c(f.ctx),l.target&&(l.hydrate?f.fragment.l((h=l.target,Array.from(h.childNodes))):f.fragment.c(),l.intro&&M(e.$$.fragment),N(e,l.target,l.anchor),E()),T(u)}class H{$destroy(){R(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function Y(t){var e;return{c(){(e=f("b")).textContent="⚠",g(e,"class","error svelte-3323pt")},m(t,n){s(t,e,n)},d(t){t&&u(e)}}}function z(e){var n,l,o,c,i,v,T,x,b,y,w=e.error&&Y();return{c(){var t;n=f("form"),l=f("b"),o=m(e.leftTerm),c=m("\n  ×\n  "),i=f("b"),v=m(e.rightTerm),T=m("\n  =\n  "),x=f("input"),b=h(),w&&w.c(),g(x,"type","text"),g(x,"size","4"),g(x,"aria-label","Result"),g(x,"class","svelte-3323pt"),g(n,"class","svelte-3323pt"),y=[d(x,"input",e.input_input_handler),d(x,"keydown",e.handleSkip),d(n,"submit",(t=e.handleSubmit,function(e){return e.preventDefault(),t.call(this,e)}))]},m(t,r){s(t,n,r),a(n,l),a(l,o),a(n,c),a(n,i),a(i,v),a(n,T),a(n,x),$(x,e.result),a(n,b),w&&w.m(n,null)},p(t,e){t.leftTerm&&p(o,e.leftTerm),t.rightTerm&&p(v,e.rightTerm),t.result&&x.value!==e.result&&$(x,e.result),e.error?w||((w=Y()).c(),w.m(n,null)):w&&(w.d(1),w=null)},i:t,o:t,d(t){t&&u(n),w&&w.d(),r(y)}}}function F(t,e,n){const r=b();let{leftTerm:l,rightTerm:o,result:c=""}=e,a=!1;return t.$set=(t=>{"leftTerm"in t&&n("leftTerm",l=t.leftTerm),"rightTerm"in t&&n("rightTerm",o=t.rightTerm),"result"in t&&n("result",c=t.result)}),t.$$.update=((t={leftTerm:1,rightTerm:1})=>{(t.leftTerm||t.rightTerm)&&(n("result",c=""),n("error",a=!1))}),{leftTerm:l,rightTerm:o,result:c,error:a,handleSubmit:function(){const t=parseInt(c,10);l*o===t?(n("error",a=!1),r("answer",{result:t})):n("error",a=!0)},handleSkip:function(t){"ArrowDown"!==t.key&&"ArrowUp"!=t.key||(t.preventDefault(),r("skip"))},input_input_handler:function(){c=this.value,n("result",c)}}}class G extends H{constructor(t){super(),D(this,t,F,z,o,["leftTerm","rightTerm","result"])}}function P(t,e,n){const r=Object.create(t);return r.cell=e[n],r.cellIndex=n,r}function B(t,e,n){const r=Object.create(t);return r.row=e[n],r.index=n,r}function U(t,e,n){const r=Object.create(t);return r.row=e[n],r.index=n,r}function V(e){var n,r,l=e.index+1+"";return{c(){n=f("th"),r=m(l),g(n,"class","svelte-f6x6sy")},m(t,e){s(t,n,e),a(n,r)},p:t,d(t){t&&u(n)}}}function J(t){var e,n,r=t.cell||"";return{c(){e=f("td"),n=m(r),g(e,"class","svelte-f6x6sy"),function(t,e,n){t.classList[n?"add":"remove"](e)}(e,"main-diagonal",t.cellIndex==t.index)},m(t,r){s(t,e,r),a(e,n)},p(t,e){t.square&&r!==(r=e.cell||"")&&p(n,r)},d(t){t&&u(e)}}}function K(t){var e,n,r,l,o,c=t.index+1+"";let d=t.row,p=[];for(let e=0;e<d.length;e+=1)p[e]=J(P(t,d,e));return{c(){e=f("tr"),n=f("th"),r=m(c),l=h();for(let t=0;t<p.length;t+=1)p[t].c();o=h(),g(n,"class","svelte-f6x6sy")},m(t,c){s(t,e,c),a(e,n),a(n,r),a(e,l);for(let t=0;t<p.length;t+=1)p[t].m(e,null);a(e,o)},p(t,n){if(t.square){let r;for(d=n.row,r=0;r<d.length;r+=1){const l=P(n,d,r);p[r]?p[r].p(t,l):(p[r]=J(l),p[r].c(),p[r].m(e,o))}for(;r<p.length;r+=1)p[r].d(1);p.length=d.length}},d(t){t&&u(e),i(p,t)}}}function Q(e){var n,r,l,o,c;let m=e.square,d=[];for(let t=0;t<m.length;t+=1)d[t]=V(U(e,m,t));let p=e.square,$=[];for(let t=0;t<p.length;t+=1)$[t]=K(B(e,p,t));return{c(){n=f("table"),r=f("tr"),(l=f("th")).textContent="×",o=h();for(let t=0;t<d.length;t+=1)d[t].c();c=h();for(let t=0;t<$.length;t+=1)$[t].c();g(l,"class","svelte-f6x6sy"),g(n,"class","svelte-f6x6sy")},m(t,e){s(t,n,e),a(n,r),a(r,l),a(r,o);for(let t=0;t<d.length;t+=1)d[t].m(r,null);a(n,c);for(let t=0;t<$.length;t+=1)$[t].m(n,null)},p(t,e){if(t.square){let n;for(m=e.square,n=0;n<m.length;n+=1){const l=U(e,m,n);d[n]?d[n].p(t,l):(d[n]=V(l),d[n].c(),d[n].m(r,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=m.length}if(t.square){let r;for(p=e.square,r=0;r<p.length;r+=1){const l=B(e,p,r);$[r]?$[r].p(t,l):($[r]=K(l),$[r].c(),$[r].m(n,null))}for(;r<$.length;r+=1)$[r].d(1);$.length=p.length}},i:t,o:t,d(t){t&&u(n),i(d,t),i($,t)}}}function W(t,e,n){let{calculations:r}=e,l=[];return t.$set=(t=>{"calculations"in t&&n("calculations",r=t.calculations)}),t.$$.update=((t={calculations:1})=>{if(t.calculations){const t=Math.sqrt(r.length),e=new Array(t);for(let n=0;n<e.length;n++){const l=n*t,o=l+t;e[n]=r.slice(l,o)}n("square",l=e)}}),{calculations:r,square:l}}class X extends H{constructor(t){super(),D(this,t,W,Q,o,["calculations"])}}function Z(e){var n;return{c(){(n=f("p")).innerHTML='\n\t\t\t  Press\n\t\t\t  <kbd class="svelte-1tx2egv">Enter</kbd>\n\t\t\t  to validate your response\n\t\t\t  <br>\n\t\t\t  or\n\t\t\t  <kbd class="svelte-1tx2egv">⇩</kbd>\n\t\t\t  /\n\t\t\t  <kbd class="svelte-1tx2egv">⇧</kbd>\n\t\t\t  to skip to another calculation.\n\t\t\t',g(n,"class","svelte-1tx2egv")},m(t,e){s(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}class tt extends H{constructor(t){super(),D(this,t,null,Z,o,[])}}function et(e){var n;return{c(){(n=f("h2")).textContent="Congratulations!",g(n,"class","svelte-h26g9o")},m(t,e){s(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function nt(t){var e,n=new G({props:{leftTerm:t.calculationLeftTerm,rightTerm:t.calculationRightTerm}});return n.$on("answer",t.handleOnAnswer),n.$on("skip",t.nextCalculation),{c(){n.$$.fragment.c()},m(t,r){N(n,t,r),e=!0},p(t,e){var r={};t.calculationLeftTerm&&(r.leftTerm=e.calculationLeftTerm),t.calculationRightTerm&&(r.rightTerm=e.calculationRightTerm),n.$set(r)},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){O(n.$$.fragment,t),e=!1},d(t){R(n,t)}}}function rt(t){var e,n,l,o,c,a=[nt,et],i=[];function f(t,e){return e.remainingCalcuationsIndexes.length?0:1}e=f(0,t),n=i[e]=a[e](t);var m=new X({props:{calculations:t.calculations}}),d=new tt({});return{c(){n.c(),l=h(),m.$$.fragment.c(),o=h(),d.$$.fragment.c()},m(t,n){i[e].m(t,n),s(t,l,n),N(m,t,n),s(t,o,n),N(d,t,n),c=!0},p(t,o){var c=e;(e=f(0,o))===c?i[e].p(t,o):(A={r:0,c:[],p:A},O(i[c],1,1,()=>{i[c]=null}),A.r||r(A.c),A=A.p,(n=i[e])||(n=i[e]=a[e](o)).c(),M(n,1),n.m(l.parentNode,l));var s={};t.calculations&&(s.calculations=o.calculations),m.$set(s)},i(t){c||(M(n),M(m.$$.fragment,t),M(d.$$.fragment,t),c=!0)},o(t){O(n),O(m.$$.fragment,t),O(d.$$.fragment,t),c=!1},d(t){i[e].d(t),t&&u(l),R(m,t),t&&u(o),R(d,t)}}}function lt(t,e,n){const r=new Array(144).fill(null);let l,o,c,a;function s(){n("calculationIndex",l=a[Math.floor(Math.random()*a.length)])}return x(()=>{s()}),t.$$.update=((t={calculationIndex:1,calculations:1})=>{t.calculationIndex&&n("calculationLeftTerm",o=Math.floor(l/12)+1),t.calculationIndex&&n("calculationRightTerm",c=l%12+1),t.calculations&&n("remainingCalcuationsIndexes",a=r.reduce((t,e,n)=>(null==e&&t.push(n),t),[]))}),{calculations:r,nextCalculation:s,handleOnAnswer:function(t){n("calculations",r[l]=t.detail.result,r),s()},calculationLeftTerm:o,calculationRightTerm:c,remainingCalcuationsIndexes:a}}class ot extends H{constructor(t){super(),D(this,t,lt,rt,o,[])}}function ct(e){var n,r,l,o,i,h="light"==e.theme?"☀":"☾";return{c(){n=f("button"),r=m(h),g(n,"type","button"),g(n,"class",l=c(e.reverseTheme)+" svelte-1homave"),g(n,"title",o=`Toggle theme to ${e.reverseTheme}`),i=d(n,"click",e.changeTheme)},m(t,e){s(t,n,e),a(n,r)},p(t,e){t.theme&&h!==(h="light"==e.theme?"☀":"☾")&&p(r,h),t.reverseTheme&&l!==(l=c(e.reverseTheme)+" svelte-1homave")&&g(n,"class",l),t.reverseTheme&&o!==(o=`Toggle theme to ${e.reverseTheme}`)&&g(n,"title",o)},i:t,o:t,d(t){t&&u(n),i()}}}function at(t,e,n){let r,l="light";return x(()=>{n("theme",l=document.body.className)}),t.$$.update=((t={theme:1})=>{t.theme&&n("reverseTheme",r="light"==l?"dark":"light")}),{theme:l,changeTheme:function(){n("theme",l=r),document.body.className=l},reverseTheme:r}}class st extends H{constructor(t){super(),D(this,t,at,ct,o,[])}}function ut(e){var n,r,l,o,c,i,d,p,$,v,T,x,b,y=new st({}),w=new ot({});return{c(){n=f("main"),r=f("header"),y.$$.fragment.c(),l=h(),(o=f("h1")).textContent="multiplication ⧉ square",c=h(),i=f("section"),w.$$.fragment.c(),d=h(),p=f("footer"),$=m("Copyright © "),v=m(e.currentYear),T=m(" wed\n    "),(x=f("a")).innerHTML='<img src="images/github.png" width="18" height="18" alt="GitHub logo" class="github svelte-sjj52k">',g(o,"class","svelte-sjj52k"),g(r,"class","svelte-sjj52k"),g(i,"class","svelte-sjj52k"),g(x,"href","https://github.com/wedk/multiplication-square"),g(x,"target","_blank"),g(x,"rel","noopener noreferrer"),g(x,"title","View on GitHub"),g(p,"class","svelte-sjj52k"),g(n,"class","svelte-sjj52k")},m(t,e){s(t,n,e),a(n,r),N(y,r,null),a(r,l),a(r,o),a(n,c),a(n,i),N(w,i,null),a(n,d),a(n,p),a(p,$),a(p,v),a(p,T),a(p,x),b=!0},p:t,i(t){b||(M(y.$$.fragment,t),M(w.$$.fragment,t),b=!0)},o(t){O(y.$$.fragment,t),O(w.$$.fragment,t),b=!1},d(t){t&&u(n),R(y),R(w)}}}function it(t){return{currentYear:(new Date).getFullYear()}}return new class extends H{constructor(t){super(),D(this,t,it,ut,o,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
